<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agenda</title>
  <!-- Importando o CSS do Materialize -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
  <!-- Estilos personalizados -->
  <link href="css/style.css" rel="stylesheet">
  <!-- Ícones do Materialize -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
  body {
    margin: 0;
    padding: 0;
    background: url('imagens/img2.jpg') no-repeat center center fixed;
    background-size: cover;
  }

  .title {
    display: flex; /* Define um layout flexível */
    justify-content: center; /* Centraliza o conteúdo horizontalmente */
    align-items: center; /* Centraliza o conteúdo verticalmente */
    text-align: center;
    margin: 0;
    padding: 20px 0;
    color: #fff;
    font-size: 2.5rem;
    font-weight: bold;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    width: 100%; /* Faz o título ocupar toda a largura */
    z-index: 1000;
    background: rgba(0, 0, 0, 0.7); /* Fundo semitransparente para o título */
  }

  .title i {
    margin-right: 10px;
  }
  </style>
</head>
<body>
  <!-- Botão para abrir o menu lateral -->
  <a href="#" id="menu-toggle" class="btn-floating btn-large blue" style="position: fixed; top: 20px; left: 20px; z-index: 2000;">
    <i class="material-icons">menu</i>
  </a>

  <!-- Menu Lateral Vertical -->
  <div class="menu-overlay" id="menu-overlay"></div>
  <div class="sidenav" id="sidenav">

    <a href="Index.html" class="menu-link">
      <i class="material-icons">home</i> Menu
    </a>
    
    <!-- Círculo de Foto -->
    <div class="profile-circle">
      <img src="imagens/img3.jpg" alt="Foto de Perfil">
    </div>
    
    <a href="TelaAnotacao.html" class="menu-link">
      <i class="material-icons">note</i> Anotações
    </a>
    <a href="TelaAgenda.html" class="menu-link">
      <i class="material-icons">event</i> Agenda
    </a>
    <a href="TelaClientes.html" class="menu-link">
      <i class="material-icons">people</i> Clientes
    </a>
    <a href="Tela.Anaminese.html" class="menu-link">
      <i class="material-icons">assignment</i> Anamnese
    </a>
    <a href="Tela.Login.html" class="menu-link">
      <i class="material-icons">logout</i> Sair
    </a>
  </div>

  <!-- Conteúdo da Tela Agenda -->
  <div class="content">
    <!-- Título da Página -->
    <div class="title">
      <i class="material-icons">event</i> Agenda
    </div>

    <p>Agende seus clientes:</p>

    <!-- Linha para agendar cliente -->
    <div class="row">
      <form id="agendar-cliente-form" class="col s12">
        <div class="row">
          <div class="input-field col s3">
            <input id="nome" type="text" class="validate" required>
            <label for="nome">Nome</label>
          </div>
          <div class="input-field col s3">
            <input id="data" type="date" class="validate" required>
            <label for="data">Data</label>
          </div>
          <div class="input-field col s3">
            <input id="horario" type="time" class="validate" required>
            <label for="horario">Horário</label>
          </div>
          <div class="input-field col s3">
            <input id="servico" type="text" class="validate" required>
            <label for="servico">Serviço</label>
          </div>
        </div>
        <button type="submit" class="btn blue">Agendar</button>
      </form>
    </div>

    <!-- Tabela de Clientes do Dia -->
    <div class="clients-table">
      <h2>Clientes do Dia</h2>

      <!-- Linha de Busca por Data -->
      <div style="margin-bottom: 10px; display: flex; align-items: center;">
        <input type="date" id="search-date" class="browser-default" style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
        <button id="search-date-button" class="btn blue waves-effect waves-light" style="margin-left: 10px;">
          <i class="material-icons">search</i>
        </button>
      </div>

      <table class="highlight centered">
        <thead>
          <tr>
            <th>Horário</th>
            <th>Nome</th>
            <th>Serviço</th>
            <th>Adiar</th>
            <th>Detalhes</th>
          </tr>
        </thead>
        <tbody id="clientes-tbody">
          <!-- O corpo da tabela será preenchido dinamicamente -->
        </tbody>
      </table>

      <!-- Controles de Paginação -->
      <div id="pagination-controls" style="text-align: center; margin-top: 10px;">
        <button id="prev-page" class="btn grey waves-effect waves-light" disabled>
          <i class="material-icons">chevron_left</i>
        </button>
        <span id="page-info" style="margin: 0 10px;">Página 1</span>
        <button id="next-page" class="btn grey waves-effect waves-light">
          <i class="material-icons">chevron_right</i>
        </button>
      </div>
    </div>
  </div>

  <!-- Importando o JavaScript do Materialize -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <!-- Script personalizado -->
  <script src="js/script.js"></script>
  <script>
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("agendar-cliente-form");
    const tbody = document.getElementById("clientes-tbody");
    const prevPageButton = document.getElementById("prev-page");
    const nextPageButton = document.getElementById("next-page");
    const pageInfo = document.getElementById("page-info");

    const rowsPerPage = 5; // Número máximo de linhas por página
    let currentPage = 1;
    let totalRows = 0;

    // Função para atualizar a tabela com base na página atual
    function updateTable() {
      const rows = Array.from(tbody.querySelectorAll("tr"));
      totalRows = rows.length;

      // Calcula os índices de início e fim para a página atual
      const startIndex = (currentPage - 1) * rowsPerPage;
      const endIndex = startIndex + rowsPerPage;

      // Mostra ou oculta as linhas com base na página atual
      rows.forEach((row, index) => {
        row.style.display = index >= startIndex && index < endIndex ? "" : "none";
      });

      // Atualiza os controles de paginação
      pageInfo.textContent = `Página ${currentPage}`;
      prevPageButton.disabled = currentPage === 1;
      nextPageButton.disabled = endIndex >= totalRows;
    }

    // Eventos para os botões de navegação
    prevPageButton.addEventListener("click", function () {
      if (currentPage > 1) {
        currentPage--;
        updateTable();
      }
    });

    nextPageButton.addEventListener("click", function () {
      if (currentPage * rowsPerPage < totalRows) {
        currentPage++;
        updateTable();
      }
    });

    // Evento para adicionar uma nova linha na tabela
    form.addEventListener("submit", function (event) {
      event.preventDefault(); // Evita o envio padrão do formulário

      // Captura os valores dos campos do formulário
      const nome = document.getElementById("nome").value;
      const data = document.getElementById("data").value;
      const horario = document.getElementById("horario").value;
      const servico = document.getElementById("servico").value;

      // Cria uma nova linha na tabela
      const row = document.createElement("tr");

      // Adiciona as células com os dados
      row.innerHTML = `
        <td>${horario}</td>
        <td>${nome}</td>
        <td>${servico}</td>
        <td><input type="date" class="validate" value="${data}"></td>
        <td><input type="text" class="validate" placeholder="Detalhes"></td>
      `;

      // Adiciona a nova linha ao corpo da tabela
      tbody.appendChild(row);

      // Atualiza a tabela para refletir a nova linha
      updateTable();

      // Limpa os campos do formulário
      form.reset();
    });

    // Inicializa a tabela na página 1
    updateTable();
  });
  </script>
</body>
</html>